XWA Mission File
Author: Michael Gaisser (mjgaisser@gmail.com)
Site: https://github.com/MikeG621
Updated: 2024.08.18
=====

This is going to be a very lengthy definition of the XWA mission file. If you
see portions of this write-up that look similar to the TIE95 write-up, that's
because they're probably word-for-word.

The file itself is made of up multiple sections, for the purpose of this file
each is documented as a struct beginning at '0', such that to find an offset
in a later section you simply add the total length of the sections before it to
get there. This is what I use in my personal notes, so this is what I am
forcing upon you. I win. I'll try to keep the mission design comments to a
minimum, but I promise nothing.

=====
XWA Mission Overview

The mission files are found in the \MISSION directory, have the .TIE file
extension, but require the naming convention seen in LEC missions. XWA throws
a fit it you attempt to name it anything other than #B#M#*.tie. # is the
number of players, B# is the battle number the mission is in, M# is the mission
number, and * is just that, the * wildcard. Put anything you want there, XWA
doesn't care at that point.

=====
XWA Mission Structure

The following values are used through this and all of my file definitions
unless otherwise specified:
NAME	LENGTH	DESC
----	------	----
BOOL	1	0=false, 1=true
BYTE	1	unsigned 8-bit
SBYTE	1	signed 8-bit, [-128, +127]
CHAR	1	ASCII character
SHORT	2	signed Int16
DWORD	4	signed Int32
STR(*)	*	null-terminated string, * is an integer length

NOTE: Any byte locations that are between defined values and are not explicitly
defined are deemed as Reserved(0), and have only been found to have zero
values. All unknowns have been discovered and named accordingly per the LEC
format spec, their previous Unknown designation is listed next to it. Some
values are known to be editor only or have no effect in-game, others may or may
not be "active". Inactive values are named in paranethesis, questionable have
"*" prefixes. In addition, Enum values such as triggers or orders that could
not be set or were actively re-mapped to other values are noted as (Mapped),
unless they are known to work properly.

NOTE2: **IMPORTANT** The And/Or Trigger BOOLs (and possibly all BOOLs) are
actually making a (value & 1) comparison to determine TRUE, not a non-zero
check. For standard read/write this isn't an issue, but if you're dealing with
a poorly formatted mission file, this can cause unexpected results as 2 would
be FALSE but 3 is TRUE again.

--
FileHeader
FlightGroup[NumFGs]
Message[NumMessages]
GlobalGoal[10]
Team[10]
Briefing[2]
STR(0x187C)			EditorNotes
STR(100)[128]		BriefingStringNotes
STR(100)[64]		MessageNotes
STR(100)[10,7]		EomNotes
STR(100)[3]			DescriptionNotes
STR(*)[NumFGs,8,3]	FGGoalStrings
STR(*)[10,7,4,3]	GlobalGoalStrings
STR(*)[192,16]		OrderStrings
STR(4096)[3]		Descriptions
---

struct FileHeader (size 0x23F0)
{
	0x0000	SHORT		PlatformID (0x12)
	0x0002	SHORT		NumFGs
	0x0004	SHORT		NumMessages
	0x0006	BYTE		*TimeLimitMin
	0x0007	BYTE		*TimeLimitSec
	0x0008	BYTE		*WinType		(was Unknown1, default 1)
	0x0009	BYTE		*Backdrop
	0x000A	BYTE		*Rescue
	0x000B	BYTE		*AllWayShown	(was Unknown2, probably editor only)
	0x000C	BYTE[8]		*Vars
	0x0014	STR(20)[4]	IffNames3-6
	0x0064	Region[4]	Regions
	0x0274	GlbCrg[16]	GlobalCargos
	0x0B34	GlbUn[32]	GlobalGroups
	0x1C32	GlbUn[40]	GlobalUnits
	0x23AC	BYTE		Hangar (enum)
	0x23AD	BOOL		GoalsUnimportant
	0x23AE	BYTE		TimeLimitMinutes
	0x23AF	BOOL		EndMissionWhenComplete
	0x23B0	BYTE		BriefingOfficer (enum)
	0x23B1	BYTE		BriefingLogo (enum)	(also known as CommandOfficer)
	0x23B2	BYTE		BriefingOfficerEntryLine
	0x23B3	BYTE		*SecondaryVersion (0x62 'b', was Unknown3, might be editor only)
	0x23B4	BYTE		WinOfficer (enum) (was Unknown4)
	0x23B5	BYTE		FailOfficer (enum) (was Unknown5)
	0x23B6	(58)		(Reserved)
}

struct Region (size 0x84)
{
	0x00	STR(64)	Name
	0x40	DWORD	ID
	0x44	(64)	(Reserved)
}

struct GlbCrg "GlobalCargo" (size 0x8C)
{
	0x00	STR(64)	Cargo
	0x40	DWORD	ID
	0x44	DWORD	Count	(was Unknown1)
	0x48	BYTE	Type	(was Unknown2) {solid, liquid, gas}
	0x49	BYTE	Volume	(was Unknown3)
	0x4A	BYTE	Value	(was Unknown4)
	0x4B	BYTE	Volatility	(was Unknown5)	{low, med, high, kaboom!}
	0x4C	(64)	(Reserved)
}

struct GlbUn "GlobalUnit" (size 0x57)
{
	0x00	STR(64)	Name
	0x40	BYTE	Leader
	0x41	BYTE	SpecialCargoCraft
	0x42	STR(20)	SpecialCargo
	0x56	BOOL	RandSpecCraft
}

struct FlightGroup (size 0xE3E)
{
	0x000	STR(20)	Name
	0x014	BYTE	EnableDesignation
	0x015	BYTE	EnableDesignation2
	0x016	BYTE	Designation1 (enum)
	0x017	BYTE	Designation2 (enum)
	0x018	BYTE	Comm	(was Unknown1)	{None, Minimal, Normal, Verbose}
	0x019	BYTE	GlobalCargoIndex
	0x01A	BYTE	GlobalSpecialCargoIndex
	0x1B	(13)	(Unused)
	0x028	STR(20)	Cargo
	0x03C	STR(20)	SpecialCargo
	0x050	STR(20)	CraftRole
	0x069	BYTE	SpecialCargoCraft
	0x06A	BOOL	RandomSpecialCargoCraft
	0x06B	BYTE	CraftType (enum)
	0x06C	BYTE	NumberOfCraft
	0x06D	BYTE	Status1 (enum)
	0x06E	BYTE	Warhead (enum)
	0x06F	BYTE	Beam (enum)
	0x070	BYTE	Iff
	0x071	BYTE	Team
	0x072	BYTE	GroupAI (enum)
	0x073	BYTE	Markings (enum)
	0x074	BYTE	Radio (enum)
	0x075	BYTE	(Unused)
	0x076	BYTE	Formation (enum)
	0x077	BYTE	FormationSpacing
	0x078	BYTE	GlobalGroup
	0x079	BYTE	(Unused)	(was LeaderSpacing)
	0x07A	BYTE	NumberOfWaves
	0x07B	BYTE	WavesDelay	(was Unknown3)
	0x07C	BYTE	StopArrivingWhen
	0x07D	BYTE	PlayerNumber
	0x07E	BOOL	ArriveOnlyIfHuman
	0x07F	BYTE	PlayerCraft
	0x080	BYTE	Yaw
	0x081	BYTE	Pitch
	0x082	BYTE	Roll
	0x083	BYTE	(IOReserved)
	0x084	SHORT	*LinkID		(was Unknown4)
	0x086	BYTE	(Unused)	(was Unknown5)
	0x087	BYTE	ArrivalDifficulty (enum)
	0x088	TPair[2]	Arrival	(contained Unknown6)
	0x0A8	BOOL	Arrivals12OrArrivals34
	0x0A9	BYTE	ArrivalRandDelayMinutes
	0x0AA	BYTE	ArrivalDelayMinutes
	0x0AB	BYTE	ArrivalDelaySeconds
	0x0AC	TPair	Departure
	0x0BC	BYTE	DepartureDelayMinutes
	0x0BD	BYTE	DepartureDelaySeconds
	0x0BE	BYTE	AbortTrigger (enum)
	0x0BF	BYTE	ArrivalRandDelaySeconds	(was Unknown7)
	0x0C0	SHORT	(Editor use, CurrentMothership)	(was Unknown8)
	0x0C2	BYTE	ArrivalMothership
	0x0C3	BYTE	ArrivalMethod {Hyper, Mothership, Hyp Rgn FG}
	0x0C4	BYTE	DepartureMothership
	0x0C5	BOOL	DepartMethod {Hyper, Mothership, Planet}
	0x0C6	BYTE	AlternateMothership
	0x0C7	BOOL	AlternateMothershipUsed
	0x0C8	BYTE	CapturedDepartureMothership
	0x0C9	BOOL	CapturedDepartViaMothership
	0x0CA	Order[16]	Orders
	0xA0A	TPair[16]	SkipTriggers
	0xB0A	GoalFG[8]	FGGoals
	0xD8A	Wypt[2] StartPoints
	0xD9A	Wypt	CaptureHyperPoint
	0xDA2	Wypt	HyperPoint
	0xDAA	BYTE[2]	StartPointRegions
	0xDAC	BYTE	CaptureHyperRegion
	0xDAD	BYTE	HyperPointRegion
	0xDAE	BYTE[20] (Unused)	[was Unks16-31]
	0xDC2	BYTE	(Editor use, WaypointShown)
	0xDC3	BYTE	(Unused)
	0xDC4	BOOL	DisableWaveNumbering
	0xDC5	BYTE	DepartureClockMin	(was Unknown32)
	0xDC6	BYTE	DepartureClockSec	(was Unknown33)
	0xDC7	BYTE	Countermeasures
	0xDC8	BYTE	CraftExplosionTime
	0xDC9	BYTE	Status2
	0xDCA	BYTE	GlobalUnit
	0xDCB	BYTE	Handicap	{None, FavorRebels, EvenOnly, FavorImps, FavorRebsEven, FavorImpsEven}
	0xDCC	BYTE[8]	OptionalWarheads
	0xDD4	BYTE[4]	OptionalBeams
	0xDDA	BYTE[3]	OptionalCountermeasures
	0xDDE	BYTE	OptionalCraftCategory
	0xDDF	BYTE[10] OptionalCraft
	0xDE9	BYTE[10] NumberOfOptionalCraft
	0xDF3	BYTE[10] NumberofOptionalCraftWaves
	0xDFD	STR(20)	PilotID
	0xE11	BYTE	(IOReserved)
	0xE12	DWORD	Backdrop
	0xE16	(40)	(Reserved)	(contained Unk34-41)
}

struct TPair "TriggerPair" (size 0x10)
{
	0x00	Trigger	Trigger1
	0x06	Trigger	Trigger2
	0x0C	BYTE[2]	(Unused)
	0x0E	BOOL	T1OrT2
	0x0F	BYTE	(IOReserved)
}
struct Trigger (size 0x6)
{
	0x0	BYTE	Condition (enum)
	0x1	BYTE	VariableType (enum)
	0x2	BYTE	Variable
	0x3	BYTE	Amount (enum)
	0x4	SHORT	Parameter
}

struct Order (size 0x94)
{
	0x00	BYTE	Order (enum)
	0x01	BYTE	Throttle
	0x02	BYTE[4]	Variables	(contains Unknown9)
	0x06	BYTE	Target3Type (enum VariableType)
	0x07	BYTE	Target4Type (enum VariableType)
	0x08	BYTE	Target3
	0x09	BYTE	Target4
	0x0A	BOOL	Target3OrTarget4
	0x0B	BYTE	(Unused)
	0x0C	BYTE	Target1Type (enum VariableType)
	0x0D	BYTE	Target1
	0x0E	BYTE	Target2Type (enum VariableType)
	0x0F	BYTE	Target2
	0x10	BOOL	Target1OrTarget2
	0x11	BYTE	(Unused)
	0x12	BYTE	Speed
	0x13	BYTE	(IOReserved)
	0x14	Wypt[8]	Waypoints
	0x54	(64)	(Reserved)
}

struct Wypt (size 0x8)
{
	0x0	SHORT	X
	0x2	SHORT	Y
	0x4	SHORT	Z
	0x6	BOOL	Enabled		[Note: this is really defined as a SHORT]
	0x7	BYTE	(Unused)
}

struct GoalFG (size 0x50)
{
	0x00	BYTE	Argument
	0x01	BYTE	Condition
	0x02	BYTE	Amount
	0x03	SBYTE	Points
	0x04	BOOL[10] EnabledForTeam
	0x0E	BYTE	Parameter or Goal time limit depending on order
	0x0F	BYTE	ActiveSequence
	0x10	(64)	(Reserved)
}

struct Message (size 0xA2)
{
	0x00	SHORT	MessageIndex
	0x02	STR(80)	Message
	0x52	BYTE[10] SentToTeam
	0x5C	TPair[2]	Triggers (contained Unknown1)
	0x7C	STR(8)	Voice
	0x84	DWORD	OriginatingFG
	0x88	DWORD	Type
	0x8C	BYTE	Delay
	0x8D	BOOL	Triggers12OrTriggers34
	0x8E	BYTE	Color/IFF
	0x8F	BOOL	SpeakerHeader	(was Unknown2)
	0x90	TPair	Special
	0xA0	BYTE	SpecialMeaning	(was Unknown3)	{Ignore, Stop, Finished, Both}
	0xA0	BYTE	(IOReserved)
}

struct GlobalGoal (size 0x170)
{
	0x00	SHORT	NumGoals (3)
	0x02	GoalGlobal[3]	Goals
}

struct GoalGlobal (size 0x7A)
{
	0x00	TPair[2]	Triggers	(contained Unknown1)
	0x20	STR(16)	Name	(contains Unknown2)
	0x30	BYTE	Version
	0x31	BOOL	Triggers12OrTriggers34
	0x32	BYTE	Delay	(was Unknown3)
	0x33	SBYTE	Points
	0x34	BYTE[4]	PointsPerTrigger (was Unknown4-6)
	0x38	BYTE	ActiveSquence
	0x39	BYTE	(IOReserved)
	0x3A	(64)	(Reserved)
}

struct Team (size 0x1E7)
{
	0x000	SHORT		(Reserved) (1)
	0x002	STR(16)		Name
	0x012	(8)			Reserved
	0x01A	BYTE[10]	Allegiances
	0x024	CHAR[6][64]	EndOfMissionMessages
	0x1A4	BYTE[3]		EomMessageDelay (was Unknowns)
	0x1A7	BYTE[3]		EomSourceFG	(was Unknowns)
	0x1AA	CHAR[3][20]	EomVoiceIDs
	0x1E6	(1)			(Reserved)
}

struct Briefing
{
	0x0000	SHORT		RunningTime
	0x0002	SHORT		CurrentTime		(was Unknown1)
	0x0004	SHORT		StartLength
	0x0006	SHORT		EventsLength
	0x0008	SHORT		Tile
	0x000A	Event[]		Events
	0x320A	Icon[192]	Icons
	0x440A	BOOL[10]	ViewedByTeam
	0x4414	BrfStr[128]	Tags
			BrfStr[128]	Strings
}

struct Event
{
	0x0	SHORT	Time
	0x2	SHORT	Type (enum EventType)
	0x4	SHORT[]	Variables
}

struct Icon (size 0x18)
{
	0x00	BYTE	Species
	0x01	BYTE	IFF
	0x02	SHORT	X
	0x04	SHORT	Y
	0x06	SHORT	Orientation
	0x08	(16)	(Reserved)
}

struct BrfStr
{
	0x0	SHORT	Length
	0x2	CHAR[Length]	Text
}

=====
XWA Mission Detail

Hopefully I named the variables descriptive enough for you that you can figure
out what they mean, but I'm going to delve into each section anyway. Names may
differ from previous editors or official documents, depending on if I think
they made sense or not.  Supplementary definitions and enums follow after the
writeup details.

-- FileHeader --

The first 6 bytes are standard vlues. TimeLimitMin to Rescue appear to be
legacy values and not used. AllWayShown appears to be an editor flag only and
not have an effect in-game, and the Vars don't seem to do anything. After that
follows the IFF names and the Region names, which are new in XWA.  The ID value
of the Region structs don't appear to serve a purpose in-game and normally
aren't set, likely was used for back-end coding at one point.

GlobalCargo is something I stumbled upon when I was using the New Horizons
editor, before I started using AlliED. NH uses these values for the craft's
normal Cargo values, not using the one in the flight group's definition. These
cargoes can be assigned to multiple flight groups, and there is even a
TrigVar/Target Type that can be used similar to GG and GU triggers. Unknown if
the values in the struct have a real purpose, although Volatility I believe
changes the craft explosion when destroyed. A more detailed explanation belongs
in a mission design writeup instead of here.

After those come the Global Group details. The Name will display instead of
listing out all of the craft as in previous games. The GG has its own Special
settings. Then there's another similar section for Global Unit as well.

We have Hangar, which determines how the mission starts, a flag for ignoring
goals, and the true Time limit value.  XWA changed how single-value delays
(i.e. not having separate TimerMin and TimerSec values) are interpreted.  If
the value is 0 to 20 it's just the number of seconds.  Over 20, each increment
adds 5 seconds. Over 196 (15:00), each increment adds 10 seconds. A maximum of
255 translates to 24:50 waiting time.

The EndMissionWhenComplete value forces the mission to end once all primary
goals are completed, BriefingOfficer decides voice-overs within the
briefing room, the BriefingLogo is what shows up on the first screen of the
briefing with the craft list, and although I list that out as a separate enum,
it's actually the same list as Officer. EntryLine I think is for what the
officer says as you're walking into the briefing room.  SecondaryVersion
should be editor-only in conjunction with PlatformID to help determine exactly
how to read the file format, and then we have the Officers that are for the Win
and Lose conditions, though they're effectively editor notes since they don't
appear in-game.

-- FlightGroup --

The first string should be obvious. Designation roles provide an informational
note in the HUD when the player selects them and also trigger specific radio
messages when certain actions occur.  EnableDesignation (enum) determines if
the role is used.  Designation (enum) determines the actual role. For example,
"Command Ship" or "Primary Target".  Unlike XvT, XWA can only have a maximum of
two roles assigned.  The Comm value also modifies the callout when mentioned
over the radio.

The next two values determine use of GlobalCargo. The first assigns a GC to the
flight group, and is what you'd see in the mission instead of whatever the
usual Cargo is.  The next value is the same, but for the craft's Special Cargo.
If no GC is to be used, the value is 0xFF (-1). There's some interesting GC
interactions during boarding operations, but again that belongs in a mission
design guide.

Then we get to the normal Cargo strings and the CraftRole (aka "Duty"). It is
unknown if the string itself drives something within the game, or if it's just
a display. I'm not even sure where it displays.

A bunch of values which should be pretty straightforward.  Radio operates in
XWA much like XvT, in that instead of a binary switch the value can be set to
any team or player, 1-8.

GlobalGroup is a great way grouping craft primarily for order and trigger use.
Instead of listing out each FG or craft type in a order you can lump everything
to a GG and use a single target.  WavesDelay adds a bit of lag before the next
wave comes in, and StopArrivingWhen determines the condition when waves stop
entering the mission.  Useful to prevent say a FG from coming in, having
orders completed, leaving, the next wave coming in, leaving, etc.

Formation has no effect on mines. They use the Status1 field instead. Possible
values are:
0: Floor (X-Y plane)
1: Side (Y-Z plane)
2: Front (X-Z plane)
3: All overlap a single point. They'll destroy each other with friendly-fire.
Anything beyond repeats this sequence. There is no way to change the spacing.

NumberOfWaves is zero-indexed, but the number you'll likely see in editors is
the number of total waves. A few values have been inserted here, the first
being PlayerNumber. One-indexed, with zero meaning AI-controlled. Next is
ArriveOnlyIfHuman which is a boolean value that as its name suggests, when
active will prevent a Flight Group from appearing in the mission if there isn't
a human pilot behind the controls. PlayerCraft works the same as TIE, with
00 being the default and 01 starting at position 2. Yaw, Pitch and Roll values
work for all craft in XWA, not just objects.

Now we're into the Arrival conditions.  In sentence form, Triggers are "if
Amount of VariableType Variable are Condition, then true".  The Arrival and
Departure triggers are just that.  The Alternate mothership can be used if
the originals aren't available for whatever reason, and the Capture mothership
is for post-capture, since it'd be silly for a captured craft to return to a
hangar belonging to the original team.  *Or* booleans are evaluated as
And=false, Or=true. For the case of Triggers, determines if one or both
Triggers must be completed to evaluate to true.  The 12Or34 value likewise
determines if both trigger pairs must evaluate to true or not. The ArrivalDelay
countdown starts after the full Trigger has been fired, same for the
DepartureDelay values.  The RandDelay values define the maximum amount of
additional time that can be added on top of the ArrivalDelay.  The AbortTrigger
value applies only to individual craft, not the entire flight group. The
ViaMothership/Used values when false will cause craft to use hyperspace,
though for the Arrival and Depart methods in XWA there's a third option that
can be used, so it's no longer a BOOL.  The only addition to XWA triggers are
the Parameter values. Parameter is used for region-specific triggers, proximity
triggers and a couple others.

Special note for VariableType 0xE (14), Delay. In this case, the Trigger takes
the form "After Variable delay, then TRUE".  I believe this is counting from
the mission timer, but more testing needs to be done.

Orders, they're what make the world go 'round.  Pick the Order from the list
and go from there.  The Throttle value has been simplified from XvT, in that it
is evaluated as (Throttle% / 10).  The Variables are controlled by the order
itself, as different orders take different amounts for different reasons.
Target# and Target#Type are the same as a Trigger's Variable and VariableType.
The Speed value can override the simple Throttle method and set the FG's exact
speed in MGLT.  Helpful for convoys of differing craft.  The value stored is
not actually the MGLT value, but a fairly close approximation of MGLT / 2.2235
(I say fairly close because that's what I tweaked the multipler to get no
difference up to index 100).

XWA stores the Waypoints in the orders themselves, so each order in each region
has a different WP set to allow further control and realism in the mission.
There are 4 Orders and 4 Regions, so the Order array goes from R1O1, R1O2,
R1O3, R1O4, R2O1...

Expanding upon XvT, XWA also has Skip triggers for every order. If this
trigger fires the FG will immediately jump to the appropriate order. The array
is ordered in the same manner as the Orders, going through each order in each
region.

Goals are for that specific flight group.  In XWA you have 8 for a given FG,
and all can be given point values, stored as (Points / 25), yielding a range of
[-3200, +3175].  XWA has the Argument value which can be one of these:
00	must
01	must NOT
02	BONUS must
03	BONUS must NOT
In addition the Teams can be set, as well as the Parameter and ActiveSequence
value, like any other trigger.  This is the preferred method of applying
mission goals if they only apply to a single FG.

The remaining Waypts are stored next; two start points, the HYP after capture
and the regular HYP are available here.  The Region values determine which
region the point applies to.  Note that there are no briefing points in XWA,
that's because XWA finally uses a true animated briefing.  More on that later.

A lot of unused space, a switch to disable number across multiple waves, and
then a departure timer that is based on the mission clock, not a trigger.
Then we have the Countermeasures, this is a very short list of
00	None
01	Chaff
02	Flare
03	ClusterMine

CraftExplosionTime acts strangely, and I haven't pinned it down exactly yet.
It does affect how long it takes for a dying craft to despawn, but seems to
act differently with different ship classes and there is an unknown multipler
from the stored value to seconds.

Another Status value for you to use, followed by GlobalUnit. Similar to GG,
GU can take multiple Flight Groups and assign them a single number for easy
triggers and targets. Another use is to share numbering, good for multiple
definitions of a flight group, this keeps the numbering consistent between
them. Flight Groups do not need the same name to share numbering.

I don't know what the Handicap value does.

The Optional values are the alternate loadouts that the player can select when
going over their craft.  As you can see you can list the majority of items and
several craft at any given time.  The Category value allows you to easily
select a given ship list.
00	None
01	All Flyable
02	All Rebel Flyable
03	All Imperial Flyable
04	User Defined

Pilot has no real effect in XWA, but is most often used for a note as to which
voice is used for the FG's messages. Just a bookkeeping value, can be ignored.

-- Backdrops --

Backdrops (stars, planets, etc) are special types of flight groups. Value
definitions change for these purposes, which will be laid out here. For
starters, Name becomes LightRGB, where the color values are 0.0-1.0 so a
white light will be "1.0 1.0 1.0" and no light would be "0.0 0.0 0.0".

The DeathStarII Backdrop is a unique case, where the Name instead becomes a
timer definition. "60.00 600.00" means 60 seconds from mission start until the
first shot, and 600 seconds (10 min) between shots after that.

The GlobalCargoIndex number is used as the Shadow.  Note however, that not
every backdrop uses this exact list, some remove items and renumber
accordingly.  Start with this list and work from there if you notice it
doesn't match up.
FF	None
00	Right 3/4
01	Right Half
02	Right Quarter
03	Left Quarter
04	Left Half
05	Left 3/4
06	???

Cargo is instead the Brightness, which also uses a numeric value of increasing
intensity. "1.0" is the default.

SpecialCargo is the size of the object, to be used for backdrops and not so
much pure light sources.  Also a numeric value.

The Backdrop value is used here, and this defines the image that is used.  If
the value is zero, then it is just a light source.

Due to how XWA places backdrops within the game, the start location CANNOT be
0, 0, 0.  Allied and YOGEME both check for this as it will crash the game.

-- Message --

A simple section, nothing really tricky here.  The Voice appears to simply
be a note on the voice itself (RP1, Wedge, etc), and Color is the following:
00	Green
01	Red
02	Blue
03	Yellow
04	Red
05	Purple

OriginatingFG is used as the FG that the message is coming from. Zero-indexed,
and since the player craft is usually the first ship in the craft listing, a
value of zero implies it's coming from your ship, a value of 1 is from the next
ship, etc.  Not every LA mission uses it, and there doesn't appear to be any
game mechanic behind it, as a message from a given ship will still fire even if
that ship is destroyed.  This is the "Unk" value in the lower-right in AlliED.
Just looks like another bookkeeping value.

Not sure what the "Type" really does, this might be a simple Cancel condition
based on the speaker FG.  Don't know what SpeakerHeader does either.  Need to
do some testing to see if they really do anything.

New to XWA is yet another function to add realism, is the Special trigger.
Normally, this is used as a Cancel trigger, which in effect sets all of the
trigger conditions to "Never".  By changing the SpecialMeaning value you can
tweak exactly what this does, but unsure of what the other settings really do.

-- GlobalGoal --

When FG goals just won't cut it, that's what there are for.  This Section is
repeated 10 times, once for each team.  What is there should be mostly familiar
by now.  The Name value I believe is just an editor note.  I don't know if the
Version value has a real function.  The Delay should between when the triggers
fire and when the Goal is marked as complete in the log.  In addition to the
points for completion, there's also the ability to set points for individual
triggers.  This can allow for different point totals based on which OR trigger
is completed.

The GoalGlobal array is comprised of the Primary, Prevent and Bonus goals in
that order.  It is possible for more than 3 sets to exist, potentially up to 7
though I've never seen it.  The remaining sets are MissionOver, Extra1, Extra2,
Extra3.  For sizing in this document I've assumed there's only ever 3 sets, and
that's the minimum allowed per the spec.  What's used as the flag for the extra
goals is if the Name is used; if it's not blank, it was saved.

-- Team --

This section also repeats 10 times, once for each team. In here we have
obviously the Name, allies the end-of-mission messages, and the other details
for them.
Allegiance can have the following values:
00	Hostile
01	Friendly
02	Neutral

EndOfMissionMessages are 64 character strings, not terminated. It's really a
[3,2][64] array, as the strings are PrimaryComplete1, PrimaryComplete2,
PrimaryFailed1, PrimaryFailed2, Outstanding1, Oustanding2.

-- Briefing --

Okay, we finally get to the briefing. The command listing itself I'll leave
for the list definition, that'll also have the variable listing as well. The
first value is the duration of the briefing itself in ticks. XWA uses 0x19
ticks per second.  CurrentTime I believe is mainly used by the game and editor,
and is overwritten regardless of what is here.

Each Event is marked by the briefing time (in ticks) and the EventType,
followed by 0-4 additional variables. These variables are to be omitted if
they are not used for a given command. The last four active bytes in the Event
array is always 0F 27 22 00, which is the EndBriefing command at time 9999, and
usually isn't the last four bytes in the section (that would be a rather busy
briefing).

The StartsLength value is the number of SHORTs, Variables included, that occur
at Time=0. EventsLength is the total number of SHORTs occupied in the Events
array up to and including the EndBriefing command.  Don't know what Tile is.

The Icons are essentially the internal clipboard used to keep track of them in
the legacy editor. Unsure if there's any use in-game, but they are read and
were written to file if not purged beforehand.

The Tag and String arrays are not fixed sizes. They have a minimum length of
256 bytes, which is the case of every length being zero. If a Length is zero,
then the CHAR[] is omitted. That's the real highlight right there.

-- EditorNotes --

There's really nothing to speak of here. It's a long string used only in the
editor.

-- MessageNotes --

64 strings, all 100CHAR null-termed. Doesn't seem to be much else to it. These
were used as notes for the voice actors.

-- DescriptionNotes --

Appears to be the exact same thing as MessageNotes, but instead applying to
the Description strings in the order Successful, Description and Failed.

-- FGGoalStrings --

Simple, fast, and the majority of the time empty. Instead of using the default
strings on the goal listing you can define your own here. This section is
dynamic in size, with * being 1 if 00, 64 otherwise. 

The array structure is 3 strings per goal, 8 goals per FG. Incomplete, Complete
and Failed in that order.

-- GlobalGoalStrings --

For the most part, the same as above. Define your own strings, this
section is always here in the same dynamic manner and repeats 10 times, once
for each team. As before * is 1 if 00, 64 otherwise.

The array structure here is 3 strings per Trigger, 4 Triggers per goal, 7 goals
per Team. Strings are Incomplete, Complete and Failed in that order. Goals are
Primary, Prevent and Secondary (Bonus) in that order.  Even though the Goals
only use the first 3 sets, here all 7 are defined, though the last 4 will just
be the empty lengths.

Prevent Failed is always 00. Secondary Incomplete and Failed are always 00.

-- OrderStrings --

XWA also allows custom strings for craft orders that are displayed in the CMD
and in-flight craft listings. Array appears to be sized for 192 craft, even
though that's beyond the mission limits. As in the previous sections, * is 1 if
00, 64 otherwise.

Array follows same pattern as Orders; R1O1, R1O2...

-- Descriptions --

It's a few really long strings, Successful, Failed and Mission Description in
that order.

There you have it, the XWA Mission file format. Enjoy :P

=====
List Definitions

Hangar
00	Tutorial
01	Obstacle
02	Melee
03	Exercise
04	Skirmish
05	Death Star run
06	Calamari Cruiser
07	Family Mission

BriefingOfficer
00	Devers
01	Kupalo
02	Zaletta
03	Wedge
04	Nammo
05	Yamarus
06	Ackbar
07	Aeron
08	Emkay
09	Antan
0A	Emon
0B	Galin
0C	Tomaas
0D	Dunari

BriefingLogo
04	Defiance
05	Liberty
06	Independence
07	Family
08	Phantom Squadron	[will only see "Squadron", no logo]
09	Vector Squadron
0A	Rogue Squadron
0B	Family Transport

DesignationTeam
00	Team1
01	Team2
02	Team3
03	Team4
04	Team5
05	Team6
06	Team7
07	Team8
08	All
09	Others
0A	Hostile
0B	Friendly
0C	Rebel
0D	Imperial
FF	None

Designation
00	Command Ship
01	Base
02	Station
03	Mission Critical Craft
04	Convoy Craft
05	Strike Craft
06	Reload Craft
07	Primary Target
08	Secondary Target
09	Tertiary Target
0A	Research Facility
0B	Manufacturing Facility
0C	HYP from Region 1
0D	HYP from Region 2
0E	HYP from Region 3
0F	HYP from Region 4
10	HYP to Region 1
11	HYP to Region 2
12	HYP to Region 3
13	HYP to Region 4
14	HYP from Any Region
15  HYP to Any Region

CraftType
00	None
01	X-wing
02	Y-wing
03	A-wing
04	B-wing
05	TIE Fighter
06	TIE Interceptor
07	TIE Bomber
08	TIE Advanced
09	TIE Defender
0A	IRD Fighter
0B	Toscan Fighter
0C	Missile Boat
0D	T-wing
0E	Z-95 Headhunter
0F	R-41 Starchaser
10	Assault Gunboat
11	Shuttle
12	Escort Shuttle
13	System Patrol Craft
14	*Scout Craft
15	Stormtrooper Transport
16	Assault Transport
17	Escort Transport
18	Tug
19	Combat Utility Vehicle
1A	Container A
1B	Container B
1C	Container C
1D	Container D
1E	Heavy Lifter
1F	Mole Miner
20	Bulk Freighter
21	Cargo Ferry
22	Modular Conveyor
23	*Container Transport
24	Medium Transport
25	Murrian Transport
26	Corellian Transport
27	Millenium Falcon
28	Corellian Corvette
29	Modified Corvette
2A	Nebulon-B Frigate
2B	Modified Frigate
2C	*C-3 Passenger Liner
2D	*Carrack Cruiser
2E	Strike Cruiser
2F	Escort Carrier
30	Dreadnaught
31	MC80a Cruiser
32	MC40a Light Cruiser
33	Interdictor Cruiser
34	Victory-class Star Destroyer
35	Imperator-class Star Destroyer
36	Executor-class Star Destroyer
37	Container E
38	Container F
39	Container G
3A	Container H
3B	Container I
3C	Platform A
3D	Platform B
3E	Platform C
3F	Platform D
40	Platform E
41	Platform F
42	Asteroid R&D Station
43	Asteroid Laser Battery
44	Asteroid Warhead Battery
45	X/7 Factory
46	Satellite 1
47	Satellite 2
48	Satellite 3
49	*Satellite 4
4A	*Satellite 5
4B	Mine A
4C	Mine B
4D	Mine C
4E	Gun Emplacement
4F	*Mine 5
50	Probe A
51	Probe B
52	*Probe 3
53	Nav Buoy A
54	Nav Buoy B
55	Hyper Buoy
56	Asteroid Field
57	Planet
58	Rendezvous Buoy
59	Cargo Canister
5A	Shipyard
5B	Repair Yard
5C	*Modified Strike Cruiser
5D	Lancer Frigate
5E	Bulk Cruiser
5F	Assault Frigate
60	Corellian Gunship
61	Imperial Landing Craft
62	Assault Shuttle
63	Marauder Corvette
64	Star Galleon
65	Imperial Research Ship
66	Luxury Yacht 3000
67	Ferryboat Liner
68	Modified Action Transport
69	Mobquet Transport
6A	Xiytiar Transport
6B	Freight Transport/C
6C	Freight Transport/H
6D	Freight Transport/K
6E	YT-2000
6F	YT-2400
70	Suprosa
71	Skipray Blastboat
72	T/e m1
73	T/e m2
74	T/e m3
75	T/e m4
76	T/e m5
77	Cloakshape Fighter
78	Razor Fighter
79	Planetary Fighter
7A	Supa Fighter
7B	Pinook Fighter
7C	Booster Pack
7D	Preybird Fighter
7E	*StarViper
7F	Firespray
80	Pursuer
81	Golan 1
82	Golan 2
83	Golan 3
84	Derilyn Platform
85	Sensor Array
86	Comm Relay
87	Space Colony 1
88	Space Colony 2
89	Space Colony 3
8A	Casino
8B	Cargo Facility 1
8C	Cargo Facility 2
8D	Asteroid Mining Plant
8E	Processing Plant
8F	Rebel Platform
90	Imperial Research Center
91	Family Base
92	Family Repair Yard
93	Pirate Shipyard
94	Industrical Complex
95	*Pirate Junkyard Base
96	Escape Pod 1
97	Pressure Tank
98	Container J
99	Container K
9A	Container L
9B	Container Hangar
9C	Large Gun Emplacement
9D	Large Gun/Warhead Emplacement
9E	Proximity Mine A
9F	Proximity Mine B
A0	*Homing Mine A
A1	Homing Mine B
A2	New Laser Battery
A3	New Ion Battery
A4	Cargo Freighter
A5	*Cargo Freighter 2
A6	*Cargo Freighter 3
A7	*Cargo Freighter 4
A8	*Cargo Freighter 5
A9	Cargo Tanker
AA	*Cargo Tanker 2
AB	*Cargo Tanker 3
AC	*Cargo Tanker 4
AD	*Cargo Tanker 5
AE	Escape Pod 2
AF	Rebel Pilot
B0	Imperial Pilot
B1	Civilian Pilot
B2	Spacetrooper
B3	Zero-G Utility Suit
B4	Emkay
B5	Astromech
B6	Worker droid
B7	Backdrop
B8	*Forest Moon of Endor
B9	*Endor
BA	*Sullust
BB	*Bothuwai
BC	*Kothlis
BD	*Hoth
BE	*DeathStar II backdrop
BF	*Nar Shadda
C0	*Planet
...
C5	*Planet
C6	*Moon
...
CA	*Moon
CB	*Sun
...
D4	*Sun
D5	*Backdrop
...
E2	*Backdrop
E3	Death Star II
E4	MC80 Liberty-class Cruiser
E5	Victory-class Star Destroyer II
E6	Imperator-class Star Destroyer II
E7	*Planet
E8	*Planet

Notes:
49, 4A both map to the same type as 48 (Comm Sat 3)
4F maps to 4D (Mine C)
B6 maps to B5 (R2-D2)

Status
00	None
01	2X Warheads
02	1/2 Warheads
03	No Shields
04	1/2 Shields, Damaged
05	Lasers Damaged
06	Hyperdrive Damaged
07	Shields 0%, charging
08	Shields added or 200%
09	Hyperdrive added
0A	2x Countermeasure
0B	1/2 Countermeasures
0C	200% Shields
0D	50% Shields, Charging
0E	No Lasers
0F	Engines Damaged
10	Shields + Hyperdrive added
11	All Systems Damaged
12	200% Shields
13	50% Shields
14	Invincible
15	Infinite Warheads
16	No Escape Pods / Ejected Pilot
17	No Cargo Pods
18	Not Inspected
19	Inspected
1A	ID'ed
1B	Hangar Object

Warhead
00	None
01	Space Bomb
02	Heavy Rocket
03	Concussion Missile
04	Torpedo
05	Advanced Concussion Missile
06	Advanced Torpedo
07	Mag Pulse Torpedo
08	Ion Pulse Torpedo
09	*Adv Mag Pulse
0A	Cluster Bomb

Beam
00	None
01	Tractor Beam
02	Jamming Beam
03	Decoy Beam
04	Energy Beam

GroupAI
00	Novice (None)
01	Officer
02	Veteran
03	Ace
04	Top Ace
05	Super Ace (Invincible)

Markings
00	Red (TIE - None)
01	Gold (TIE - Red)
02	Blue (TIE - Gold)
03	Green (TIE - Blue)

Radio
00	None
01	Team 1
02	Team 2
03	Team 3
04	Team 4
05	Team 5
06	Team 6
07	Team 7
08	Team 8
09	Player 1
0A	Player 2
0B	Player 3
0C	Player 4
0D	Player 5
0E	Player 6
0F	Player 7
10	Player 8

Formation
00	Vic
01	Finger Four
02	Line Astern (originally not selectable, though it works)
03	Line Abreast
04	Echelon Right
05	Echelon Left
06	Double Astern (originally not selectable, though it works)
07	Diamond
08	Stacked (Line Up)
09	High X (originally not selectable, though it works)
0A	Reverse Vic
0B	Side Vic
0C	Reverse Side Vic
0D	Line Ahead
0E	Line Down
0F	Line Right
10	Line Left
11	Echelon Forward
12	Echelon Astern
13	Echelon Up
14	Echelon Down
15	Vic Up
16	Vic Down
17	Double Astern Mirror
18	Double Side
19	Double Down
1A	Side Diamond
1B	Front Diamond
1C	Flat Star
1D	Side Star
1E	Front Star
1F	Flat Hexagon
20	Side Hexagon
21	Front Hexagon

FormSpacing
00	Too Tight
01	Very Tight
02	Tight
03	Comfy
04	Close
05	Moderate
06	Standard
07	Safe
08	Loose
09	Very Loose
0A	Distant

StopArrivingWhen
00	Never (always arrives)
01	Mission Complete
02	Team wins
03	Team loses

ArrivalDifficulty
00	All
01	Easy
02	Medium
03	Hard
04	Greater than Easy
05	Less than Hard
06	Never

Condition
00	Always (true)
01	Created
02	Destroyed
03	Attacked
04	Captured
05	Inspected
06	Boarded
07	Finished docking
08	Disabled
09	Exist (not destroyed)
0A	None (false)
0B	--- (maps to None)
0C	Completed mission
0D	Completed Primary Goals
0E	Failed Primary Goals
0F	(maps to None)
10	(maps to None)
11	Completed Bonus Goals
12	Failed Bonus Goals
13	Dropped off
14	Reinforced
15	0% Shields
16	50% Hull
17	Out of Warheads
18	Lasers Down
19	NOT created
1A	NOT be attacked
1B	NOT be disabled
1C	NOT be captured
1D	NOT be inspected
1E	Being boarded
1F	NOT boarded
20	Begun docking
21	NOT docked
22	50% Shields
23	25% Shields
24	75% Hull
25	25% Hull
26	Time less than
27	Be picked up for team ("By")
28	NOT be picked up by team ("NOT by")
29	Have Player craft
2A	Not have Player craft
2B	Come and go
2C	Captured and gone
2D	Withdraw
2E	Be carried away
2F	Arrived in Region
30	Departed Region
31	Be in proximity of
32	NOT be in proxmity of
33	Carried
34	Defect
35	Be in convoy
36	Be delivered
37	Parked
38	Be shown (message)
39	Be ID'ed
3A	NOT be ID'ed
3B	Support

Notes (from XvT):
0x09 (Survived) Checks the number of craft that have survived at the moment the
trigger is evaluated. Includes craft that haven't arrived yet. Excludes craft
that have been destroyed by any means.

0x0D/0x0E (Completed/Failed Primary Goals) and 0x11/0x12 (Completed/Failed
Bonus Goals) If VariableType is Team, it checks the mission outcome for that
team. In all other cases, it is true if any team has achieved victory.

0x19 (NOT created) Never seems be be true, either as a trigger or goal.

0x1A (NOT be attacked) A broken condition. It's supposed to be "come and
go without being attacked" but the implementation is broken in a few ways. For
trigger purposes, when it comes-and-goes, it will still evaluate to true even
if attacked by the player. It is only false if attacked by AI, and only AI.
When used as a goal, being attacked by anything (player or AI) is an anti-
condition and will be immediately detected, resulting in instant failure. But
there's another bug. If the player destroys the craft very quickly ("in 1 hit" 
such as when using warheads), then "come-and-go" takes precendence over
"attacked" and evaluates to success, even though it was attacked. But this bug
only applies if the FG is one craft of one wave.

0x1B (Not be disabled) A "come and go" condition, but is half broken. For
triggers, it will activate even if the craft was disabled. However it does seem
to work correctly as a goal, since being disabled is an anti-condition.

0x1C (Not be captured) A "come and go" condition that actually seems to work
correctly.

0x1D (Not be inspected) "Come and go", not as straightforward as it would seem.
Statistics per team are only tracked if the craft actually arrives, then leaves
or is destroyed. Global statistics are only tracked if the craft comes and goes
by proxy (mothership destroyed prior to launch, or departure ship destroyed
after landing).
If evaluated as a FG goal, or as a trigger paired with Condition 0x27, it uses
the per-team statistic. Otherwise it uses the global statistic.

0x1F (Not boarded) A "come and go" condition that is tracked if the craft
was never finished being boarded by another craft.

0x21 (Not docking) A "come and go" condition that is tracked if the craft
never finished boarding another craft.

0x26 (Time less than) Evaluates to failure, as opposed to merely false. If used
for a goal, it will cause immediate failure.

0x27 (Inspect/Pickup team modifier) The game tracks Inspection/Pickup
statistics in two ways. The default way is a grand total, which all teams
contribute to. If any one team inspects a neutral, it's considered inspected by
everyone for the purposes of all basic triggers. This modifier lets you check
a specific team, and how much. It can only be used for particular conditions:
Inspection, Come and Go Without Inspection, or Be Picked Up.

Triggers operate in pairs (A:B). This condition is intended to be used in the B
trigger, which modifies the A trigger to access statistics for a specific team
instead the grand total. Trigger B's VariableType must be set to Team. Variable
must be set to the team index. Amount doesn't matter. The and/or boolean
doesn't matter.

FG Goals don't operate in pairs, instead they automatically use the team they
check against. It's basically an implicit team modifier, for the few conditions
that accept them.

0x29 (be all Player Craft) and 0x2A (be all AI Craft) When combined with a
VariableType of IFF or Team, has a special interaction. Instead of counting all
craft, it counts the number of active player slots out of the total number of
playable FGs. This allows mission design to tailor difficulty based on number
of active players.

0x2C (bagged) Similar to capture. The distinction is that capture is logged
instantaneously, but being bagged requires the captured craft to enter hangar
or hyperspace out. If a craft is picked up (such as by a Heavy Lifter), it is
captured by the craft carrying it.

0x2E (be carried away) This is a pick-up condition, but is distinct from bagged
that it can only operate on friendly craft. They must not be captured.


VariableType
00	None
01	Flight Group
02	CraftType (enum)
03	CraftCategory (enum)
04	ObjectCategory (enum)
05	IFF
06	Order (enum) (maps to None)
07	CraftWhen (enum)
08	Global Group
09	Rating (maps to None)
0A	Craft with Status1 (maps to None)
0B	All (maps to None)
0C	Team
0D	Player
0E	Delay
0F	All Flight Groups except
10	All Craft Types except
11	All Craft Categories except
12	All Object Categories except
13	All IFFs except
14	All Global Groups except
15	All Teams except
16	All players except
17	Global Unit
18	All Global Units except
19	Craft with Global Cargo
1A	Craft without Global Cargo
1B	Message #

CraftCategory
00	Starfighters
01	Transports
02	Freighters/Containers
03	Starships
04	Utility Craft
05	Platforms/Facilities
06	Mines
07	Buoys
08	Containers
09	Weapon Emplacements
0A	Droids

ObjectCategory
00	Craft
01	Weapons
02	Satellites
03	Space Defenses

Amount
00	100%
01	75%
02	50%
03	25%
04	At least one
05	All but one
06	Special craft
07	All non-special craft
08	All non-player craft
09	Player's craft
0A	(maps to 100%)
0B	(maps to 75%)
0C	(maps to 50%)
0D	(maps to 25%)
0E	(maps to One)
0F	(maps to All but one)
10	66%
11	33%
12	Each craft
13	Each special craft

Amount:ProximityTrigger
00	0.0
01	0.1
02	0.2
...
09	0.9
0A	1.0
0B	1.5
0C	2.0
0D	2.5
...

AbortTrigger
00	None
01	0% Shields
02	(None)
03	Warheads spent
04	50% Hull
05	Attacked
06	50% Shields
07	25% Shields
08	75% Hull
09	25% Hull
0A	Inspected

Order
00	Stationary
01	Go Home
	Var1	DelayTime
02	Circle
	Var1	Number of Loops
03	Circle and Evade
	Var1	Number of Loops
04	*Rendezvous (maps to Stationary)
	Var1	Number of Dockings
05	Disabled
	Var1	Number of Dockings
06	Await Boarding
	Var1	Number of Dockings
07	Attack
	Var1	Component
	Var2	ComponentAlt
	Var3	Warheads {Normal, All, None}
08	Attack Escorts
09	Protect
0A	Escort
	Var1	Position (to be expanded on at a later date)
	Var2	Spacing	{Loose, Close, Tight, Far}
0B	Disable
	Var1	Component
	Var2	ComponentAlt
0C	Board and Give Cargo
	Var1	Docking Time
	Var2	Number of Dockings
0D	Board and Take Cargo
	Var1	Docking Time
	Var2	Number of Dockings
0E	Board and Exchange Cargo
	Var1	Docking Time
	Var2	Number of Dockings
0F	Board and Capture Cargo
	Var1	Docking Time
	Var2	Number of Dockings
10	Board and Destroy Cargo
	Var1	Docking Time
	Var2	Number of Dockings
	Var3	Delay
11	Pick up
	Var1	Docking Time
	Var2	Number of Dockings
12	Drop off
	Var1	Deploy Time
	Var2	Flight Group
13	Wait
	Var1	Delay
14	SS Wait
	Var1	Delay
15	SS Patrol Loop
	Var1	Number of Loops
16	SS Await Return
	Var1	Delay (unused?)
17	SS Launch
	Var1	Delay (unused?)
18	SS Protect
	Var1	Delay (unused?)
19	*SS Wait and Protect (maps to Stationary)
	Var1	Delay
1A	SS Patrol and Attack
1B	SS Patrol and Disable
1C	*SS Hold Steady (maps to Stationary)
	Var1	Capture count
1D	SS Go Home
	Var1	Delay
1E	*SS Wait (maps to Stationary)
	Var1	Wait time
1F	SS Board
	Var1	Docking Time
	Var2	Number of Dockings
20	Board to Repair
	Var1	Docking Time
	Var2	Number of Dockings
21	*Hold Station (maps to Stationary)
	Var1	Time
	Var2	Gronks	(no idea)
22	*Hold Steady (maps to Stationary)
	Var1	Time
	Var2	Gronks
23	*SS Hold Station (maps to Stationary)
	Var1	Time
	Var2	Gronks
24	Self-destruct
	Var1	Delay
25	Kamikaze
26	Orbit
	Var1	# of loops	(limit 2?)
	Var2	Direction	{Clockwise, Counter}
27	Release Carried Cargo
28	Deliver/Drop Off
	Var1	Recipient FG
29	Load
	Var1	Objects
2A	Standoff Attack
	Var1	Use Missiles (0/1)
	Var2	Time
2B	Backup
	Var1	Time
	Var2	Distance	[(float)value/10]
2C	Shutdown
	Var1	Time
2D	Repair Self
	Var1	Repair Time
2E	Defect
	Var1	IFF
	Var2	Team
2F	Self Capture / Surrender
	Var1	IFF
30	*Build
	Var1	Craft Type
31	Beacon
32	Hyper to Region
	Var1	Region
	Var2	Wait (0/1)
	Var3	# of loops
33	*Relaunch
	Var1	Warhead Type
34	Transfer Cargo
	Var1	# of loops
35	Inspect Targets
36	*Await Assembly
37	*Await Disassembly
38	*Construct Train
	Var1	on Flight Group
	Var2	From Global Group
	Var3	Length
39	Park at
	Var1	Wait time
	Var2	Location	{Outside, Inside}
3A	*Board to Defuse
	Var1	Docking Time
	Var2	Number of Dockings
3B	Start Over
	Var1	# of loops
3C	*Take Apart Train
	Var1	From Flight Group
3D	Work on
	Var1	Time
	Var2	Component
	Var3	# of loops
3E	*Dock to Load
3F	Follow Targets
	Var1	# of loops
40	Home In
	Var1	# of loops
	Var2	Direction {Clockwise, Counter}

CraftWhen
00	Captured
01	Inspected
02	Finished being boarded
03	Finished docking
04	Disabled
05	Attacked
06	Any hull damage
07	Special craft
08	Non-special craft
09	Player's craft
0A	Non-player's craft
0B	not attacked
0C	not disabled
0D	not captured
0E	not inspected
0F	being boarded
10	not boarded
11	is docking
12	not docked
13	Shields at 50%
14	Shields at 25%
15	Shields down
16	Hull at 75%
17	Hull at 50%
18	Hull at 25%
19	Missiles spent
1A	Lasers out
1B	ID'd
1C	not ID'd

EventType
01	Seek
*02	SHIP_INDEX
	Var1	UNK
03	Page Break
04	Title Text
	Var1	String#
05	Caption Text
	Var1	String#
06	Move Map
	Var1	X
	Var2	Y
07	Zoom Map
	Var1	X
	Var2	Y
08	Clear FG Tags
09	FG Tag 1
	Var1	Flight Group
0A	FG Tag 2
	Var1	Flight Group
0B	FG Tag 3
	Var1	Flight Group
0C	FG Tag 4
	Var1	Flight Group
0D	FG Tag 5
	Var1	Flight Group
0E	FG Tag 6
	Var1	Flight Group
0F	FG Tag 7
	Var1	Flight Group
10	FG Tag 8
	Var1	Flight Group
11	Clear Text Tags
12	Text Tag 1
	Var1	Tag#
	Var2	X
	Var3	Y
	Var4	Color
13	Text Tag 2
	Var1	Tag#
	Var2	X
	Var3	Y
	Var4	Color
14	Text Tag 3
	Var1	Tag#
	Var2	X
	Var3	Y
	Var4	Color
15	Text Tag 4
	Var1	Tag#
	Var2	X
	Var3	Y
	Var4	Color
16	Text Tag 5
	Var1	Tag#
	Var2	X
	Var3	Y
	Var4	Color
17	Text Tag 6
	Var1	Tag#
	Var2	X
	Var3	Y
	Var4	Color
18	Text Tag 7
	Var1	Tag#
	Var2	X
	Var3	Y
	Var4	Color
19	Text Tag 8
	Var1	Tag#
	Var2	X
	Var3	Y
	Var4	Color
1A	Set Icon
	Var1	Icon #
	Var2	CraftType (enum)
	Var3	IFF
1B	Ship Craft Data
	Var1	Off/On
	Var2	Icon #
1C	Move Icon
	Var1	Icon #
	Var2	X
	Var3	Y
1D	Rotate Icon
	Var1	Icon #
	Var2	Rotation (0, 90° CCW, 180°, 90° CW, mirror)
1E	Change Region
	Var1	Region #
*1F	ZOOM_PARAGRAPH
	Var1	String#
22	End Briefing

=====
This documentation is distributed under the GNU Free Documentation License
version 1.3 or later